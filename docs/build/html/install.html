

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Install Nextflow and Apptainer &mdash; Hich 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=944f5492" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="_static/togglebutton.js?v=4a39c7ea"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Vignettes" href="vignettes/index.html" />
    <link rel="prev" title="Hich documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Hich
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Install Nextflow and Apptainer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">Install with Mamba</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#download-hich-and-vignettes">Download Hich and vignettes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-end-to-end-test-vignettes">Run end-to-end test vignettes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#new-to-nextflow-squashfuse-or-apptainer">New to Nextflow, Squashfuse or Apptainer?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vignettes/index.html">Vignettes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Hich</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Install Nextflow and Apptainer</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/install.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="install-nextflow-and-apptainer">
<h1>Install Nextflow and Apptainer<a class="headerlink" href="#install-nextflow-and-apptainer" title="Link to this heading"></a></h1>
<p>Hich depends on Nextflow and a containerization solution such as Apptainer, which are easiest to install on a macOS or Linux-based system that has conda or mamba preinstalled. Nextflow can also be installed on Windows using WSL. For a conda-based installation, replace <cite>mamba</cite> with <cite>conda</cite> in the installation steps below. It will install Nextflow, the needed JDK version, apptainer, and the squashfuse dependency needed to efficiently start container instances.</p>
<section id="id1">
<h2><a class="reference external" href="https://mamba.readthedocs.io/en/latest/installation/mamba-installation.html">Install with Mamba</a><a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<p>Install</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">mamba</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="o">-</span><span class="n">qy</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">hich</span><span class="w"> </span><span class="n">bioconda</span><span class="o">::</span><span class="n">nextflow</span><span class="w"> </span><span class="n">conda</span><span class="o">-</span><span class="n">forge</span><span class="o">::</span><span class="n">squashfuse</span><span class="w"> </span><span class="n">conda</span><span class="o">-</span><span class="n">forge</span><span class="o">::</span><span class="n">apptainer</span><span class="w"> </span><span class="n">conda</span><span class="o">-</span><span class="n">forge</span><span class="o">::</span><span class="n">openjdk</span><span class="o">=</span><span class="mi">21</span>
</pre></div>
</div>
<p>Activate environment (each time you log in, prior to running Hich)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mamba</span> <span class="n">activate</span> <span class="n">hich</span>
</pre></div>
</div>
<section id="download-hich-and-vignettes">
<h3>Download Hich and vignettes<a class="headerlink" href="#download-hich-and-vignettes" title="Link to this heading"></a></h3>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">git</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span><span class="n">https</span><span class="o">:</span><span class="c1">//github.com/bskubi/hich &amp;&amp; cd hich</span>
</pre></div>
</div>
</section>
<section id="run-end-to-end-test-vignettes">
<h3>Run end-to-end test vignettes<a class="headerlink" href="#run-end-to-end-test-vignettes" title="Link to this heading"></a></h3>
<p>If running on a multi-user environment (i.e. SLURM), allocate resources and create a batch execution script if desired. The command to launch the automated test scripts depends on whether you wish to launch a resource-constrained test (localPC) or higher resource test (localHPC).</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">bash</span><span class="w"> </span><span class="n">tests</span><span class="o">/</span><span class="n">test_localPC</span><span class="p">.</span><span class="n">sh</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">bash</span><span class="w"> </span><span class="n">tests</span><span class="o">/</span><span class="n">test_localHPC</span><span class="p">.</span><span class="n">sh</span>
</pre></div>
</div>
</section>
</section>
<section id="new-to-nextflow-squashfuse-or-apptainer">
<h2>New to Nextflow, Squashfuse or Apptainer?<a class="headerlink" href="#new-to-nextflow-squashfuse-or-apptainer" title="Link to this heading"></a></h2>
<p><a class="reference external" href="https://nextflow.io/">Nextflow</a> is a powerful workflow platform for reproducible science, similar to <a class="reference external" href="https://snakemake.github.io/">Snakemake</a> and widely used in bioinformatics. <a class="reference external" href="https://apptainer.org/docs/admin/latest/index.html">Apptainer</a> makes software extremely portable and works in a variety of HPC environments. <a class="reference external" href="https://github.com/vasi/squashfuse">Squashfuse</a> is a critical to Apptainer’s performance. The <code class="docutils literal notranslate"><span class="pre">nextflow</span> <span class="pre">run</span> <span class="pre">bskubi/hich</span></code> command downloads <code class="docutils literal notranslate"><span class="pre">hich</span></code> from its <a class="reference external" href="https://github.com/bskubi/hich">GitHub repo</a>, installs it to the Nextflow home directory, and runs it using the <span class="xref std std-doc">sample file</span> in your current working directory with default settings. See Nextflow’s section on <a class="reference external" href="https://www.nextflow.io/docs/latest/sharing.html">pipeline sharing</a> for more details.</p>
<p>For Hich’s individual processes, from data processing to QC to analysis, Hich relies on a number of existing and novel tools, packages and algorithms, known as the “Hich toolkit.” This toolkit has been installed to a frozen container image from which they can be run by a container management system (Apptainer, Singularity, Podman, Docker, etc). This image is prebuilt and runs with no installation anywhere the container management system exists, eliminating the need for cumbersome dependency installation found in other processing workflows.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Hich documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="vignettes/index.html" class="btn btn-neutral float-right" title="Vignettes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Benjamin Skubi, Andrew Adey, Galip Gürkan Yardımcı.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>